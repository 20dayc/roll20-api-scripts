## 소개
마우스로 토큰을 선택하고 명령어를 입력하면 캐릭터와 스테이터스를 간편하게 일괄적으로 연결해주는 스크립트입니다.

## 사용법

**준비1. 스크립트 적용**
[[ 스크립트 공통 설치법 안내 페이지 ]](https://github.com/kibkibe/roll20-api-scripts/wiki) 바로가기
1. roll20 세션방의 대문에 해당하는 페이지에서 [설정]->[API 스크립트]를 선택해 스크립트 수정 페이지로 들어갑니다. (PRO 계정에서만 이 메뉴가 보입니다.)
2. New Script에 [[ 코드 ]](https://github.com/kibkibe/roll20-api-scripts/blob/master/token_connector/token_connector.js)들을 복사해 붙여넣습니다.
3. [옵션](#옵션) 파트를 참조하여 세션방에 적용할 옵션을 설정합니다.
4. [Save Script]를 눌러 저장합니다. 페이지 아래쪽의 API Output Console에 에러 메시지가 표시되지 않는다면 정상적으로 적용된 것입니다.


**준비2. 테스트**

1. 화면에서 토큰을 1개 이상 선택하고 `!캐릭터 '캐릭터 이름'`을 입력합니다.
2. 1번을 실행한 토큰에 `!연결 --속성id`를 입력해서 값이 연결되는지 확인합니다.
3. 2번을 실행한 토큰의 Bar의 값을 변경하면 시트의 값도 함께 바뀌는지 확인합니다.
4. 2번을 실행한 토큰의 캐릭터 시트의 값을 변경하면 토큰의 Bar도 함께 바뀌는지 확인합니다.

## 옵션
#### 스탠딩 이미지 관련
- `bar_location`: Bar가 표시될 기본 위치를 지정합니다. (선택: 'top','overlap_top’,‘overlap_bottom’,'below')
- `compact_bar`: Bar를 컴팩트한 스타일로 표시할지(true) 기본 스타일로 표시할지(false) 지정합니다.
- `showplayers_bar`: Bar를 권한이 없는 다른 사용자에게도 표시할지 지정합니다.


## 명령어

> 이 스크립트에서 지원하는 명령어들은 모드 GM전용입니다.

#### 토큰-캐릭터 연결

마우스로 선택한 토큰을 지정된 캐릭터와 연결합니다. 이 명령은 토큰의 '해당 캐릭터' 설정을 변경하지 않습니다.

      !캐릭터 '캐릭터 이름'

명령어에서 캐릭터 이름을 생략하고 As를 특정 캐릭터로 변경한 뒤 `!캐릭터`만 입력하면 As의 캐릭터와 연결합니다.

#### 토큰-값 연결

마우스로 선택한 토큰을 지정된 캐릭터의 특정 값과 연결합니다. 이 명령은 토큰의 '토큰 바'의 '속성' 설정을 변경하지 않습니다.

      !연결 --속성1 --속성2 --속성3

`!캐릭터` 명령어를 통해 연결할 캐릭터를 먼저 지정해야 해당 캐릭터로부터 값을 가져올 수 있습니다.  
명령어로 토큰과 연결하는 값은 Bar의 최대 개수인 3개까지 지정할 수 있습니다.

## 속성(attribute)의 이름 가져오기

#### 방법1. Attributes & Abilities에서
캐릭터 정보창의 Attributes & Abilities 탭의 `Attributes` 섹션에는 캐릭터가 보유한 모든 속성이 나열되어 있습니다.  
여기서 가져오고자 하는 속성에 해당되는 항목을 찾아 Name값을 확인합니다.


#### 방법2. Character Sheet에서
캐릭터 정보창의 Character Sheet 탭에서 가져오고자 하는 값의 입력란을 오른클릭 후 `검사`(Chrome, Firefox 기준) 메뉴를 선택해서 개발자 모드에서 html 코드를 확인합니다.  
해당 입력란의 `name`에 해당되는 값에서 `attr_`을 제외한 부분이 해당 속성의 이름입니다.

      !<select name="attr_mp"....




