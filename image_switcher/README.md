## 소개
    
카드 덱에 사용할 이미지를 미리 넣어놓으면 명령어나 자동생성된 매크로를 통해 화면의 이미지를 간편하게 변경할 수 있도록 도와주는 스크립트입니다.
	
## 설치법
### 준비1. 스크립트 적용
[[ 스크립트 공통 설치법 안내 페이지 ]](https://github.com/kibkibe/roll20-api-scripts/wiki) 바로가기
1. roll20 세션방의 대문에 해당하는 페이지에서 [설정]->[API 스크립트]를 선택해 스크립트 수정 페이지로 들어갑니다. (PRO 계정에서만 이 메뉴가 보입니다.)
2. New Script에 [[ 코드 ]](https://github.com/kibkibe/roll20-api-scripts/blob/master/image_switcher/image_switcher.js)들을 복사해 붙여넣습니다.
3. [옵션](#옵션) 파트를 참조하여 세션방에 적용할 옵션을 설정합니다.
4. [Save Script]를 눌러 저장합니다. 페이지 아래쪽의 API Output Console에 에러 메시지가 표시되지 않는다면 정상적으로 적용된 것입니다.
	
### 준비2. 사용할 이미지 등록
![](https://github.com/kibkibe/roll20-api-scripts/blob/master/wiki_image/vd/layout_2.jpg)
##### 카드덱과 그래픽의 이름 설정 예시
1. 컬렉션에서 새 카드덱을 생성하고 [옵션](#옵션)의 `keyword`에 삽입된 글자로 시작하는 이름을 입력합니다.
2. 덱 안에 사용할 이미지 개수만큼 카드를 생성하고 원하는 이미지와 이름을 설정합니다.

### 준비3. 이미지 변경대상으로 사용할 그래픽 설정
1. 캠페인의 페이지에 새 그래픽(토큰)을 생성합니다.
2. `keyword`에 삽입된 글자로 시작하는 이름을 입력합니다.

> 카드덱과 이름이 동일한 그래픽이 이미지 변경대상이 됩니다.
> 가령 keyword가 `image`일 경우, 이름이 `image_sky`인 카드덱으로부터 이미지를 불러오면 이름이 `image_sky`인 그래픽에 일괄 삽입합니다.

	
### 준비4. 테스트
1. 카드 덱에 카드를 추가하거나 변경할 때 마다 `macro_name`에 입력한 이름의 매크로가 내용이 변경되는지 확인합니다.
2. `macro_name`에 입력한 이름의 매크로를 사용했을 때 화면의 그래픽이 의도한대로 변경되는지 확인합니다.
3. 명령어를 입력했을 때 그래픽이 잘 변경되는지 확인합니다.

		!#토큰이름 카드이름
		!#토큰이름 이미지주소

## 옵션
- `keyword`: 스크립트와 연동할 카드덱/토큰의 키워드를 지정합니다. 이름이 이 글자로 시작하는 카드덱과 토큰만 스크립트의 사용대상이 됩니다. (띄어쓰기를 사용하지 마세요)
- `macro_name`: 이미지 변경에 사용할 매크로의 이름을 지정합니다. (띄어쓰기를 사용하지 마세요)
