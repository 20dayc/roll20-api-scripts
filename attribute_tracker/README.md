## 소개
캐릭터가 시트상에서 스테이터스를 변경하면 해당 내역을 채팅로그에 표시해주는 스크립트입니다.
변경사항을 다른 참가자에게 바로바로 알려줌과 동시에 로그에 진행기록을 남길 수 있도록 도와줍니다.

## 사용법

**준비1. 스크립트 적용**
1. 세션방의 대문에 해당하는 페이지에서 [설정]->[API 스크립트]를 선택해 스크립트 수정 페이지로 들어갑니다. (PRO 계정에서만 이 메뉴가 보입니다.)
2. New Script에 아래의 코드들을 복사해 붙여놓습니다.
3. [옵션](#옵션) 파트를 참조하여 세션방에 적용할 옵션을 설정합니다.
4. [Save Script]로 저장합니다.
5. 페이지 아래쪽의 API Output Console에 에러 메시지가 표시되지 않는다면 정상적으로 적용된 것입니다.


**준비2. 테스트**

1. 캐릭터의 시트 내 수치를 변경해보고 채팅창에 로그가 출력되는지 확인합니다.

2. 기존에 값이 없거나 기본값으로 설정되어 있던 수치는 '변경'으로 인식되지 않아 로그가 출력되지 않을 수 있습니다.

## 옵션
#### 체크리스트
`check_list` 옵션을 통해 변경을 감지할 속성을 목록 형태로 지정합니다.  
[check list 코드 공유페이지](https://docs.google.com/spreadsheets/d/1_uTqPs6FQJfjzDotRWqtJn8U6cVw_lVycDRal8vxZb8/edit#gid=609977791)에서 사용할 룰에 맞춰 코드를 복사하거나 아래 설명을 참고해 변경을 체크할 수치들의 목록을 check_list로 작성합니다.
- `attr`: 캐릭터 시트상에서 해당 속성을 저장하는데 쓰이는 고유한 식별명입니다. (예: 체력 -mp, 이성 -san)
- `name`: 해당 속성을 일컬을 때 실제 사용되는 이름을 지정합니다. 이 값은 로그에 표시됩니다. (예: 체력,이성,행운 등등)  
만약 속성의 이름이 다른 속성에 담겨있는 경우 속성명을 담고 있는 속성의 식별명을 입력해주세요.  
(예: 마기카로기아에서 '기사소환' 장서에 마소를 충전할 경우 차지된 마소량은 Magic_02_Charge에서, 장서의 이름은 Magic_02_Name로부터 가져오는 식입니다.)

      [{"attr": "hp", "name": "생명력"},
	  {"attr": "mp", "name": "마력"},
	  {"attr": "san", "name": "이성"}]

> 반복되거나 자동생성되는 속성(아이템, 스킬 등)일 경우 자동생성되는 부분을 *id*로 교체해서 입력합니다.

      [{"attr": "item_*id*_count", "name": "item_*id*_name"}]


#### 기본 옵션
- `prior_list`: 필수적으로 변화를 체크할 캐릭터의 이름을 기입합니다. 이 값은 ignore_list보다 우선됩니다. (복수입력시 콤마(,)로 구분)
- `ignore_list`: 로그 표시에서 제외할 캐릭터의 이름을 기입합니다. (복수입력시 콤마(,)로 구분)
- `use_secret_mode`: !at 명령어를 이용한 숨김/표시 모드를 사용하지 않은 기본상태에서 스테이터스 변경 내역을 모두에게 표시할지(false) GM에게 귓말로만 보낼지(true) 설정합니다.


## 명령어

- 명령어를 이용해 로그의 숨김/표시 모드를 전환할 수 있습니다.

      !at       - 현재 설정모드 및 명령어 확인
      !at show  - 로그 표시모드로 전환
      !at hide  - 로그 숨김모드로 전환

> !at를 사용한 명령어의 설정이 더 우선됩니다. use_secret_mode로 기본 표시옵션을 설정한 뒤, 세션 진행 도중 일시적으로 스탯 변동내역을 숨김/표시해야 할 때 !at 명령어를 사용하세요. (ex: 에너미 스펙을 중간에 고칠 경우 등)